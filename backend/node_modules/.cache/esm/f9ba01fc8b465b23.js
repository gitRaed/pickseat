"use strict";;let isAuth,authCodeEmail;_8b4‍.x([["verif",()=>verif]]);_8b4‍.w("../../serviceLayer/service/isAuth.mjs",[["isAuth",["isAuth"],function(v){isAuth=v}]]);_8b4‍.w("../../serviceLayer/code_data.mjs",[["authCodeEmail",["authCodeEmail"],function(v){authCodeEmail=v}]]);







       async function verif(token, email, response) {

    try {
        
        const verifToken = await isAuth(token);
        const verifEmail = await authCodeEmail(email);

        const result = {
            bool : true,
            message : ''
        };

        if (verifToken.message !== '') {

            result.message = verifToken.message;
            result.bool = false;
        } 
        
        if (verifEmail.auth === false) {

            result.message = 'L\'utilisateur n\'existe pas';
            result.bool = false;
        } 

        return result;

    } catch (error) {
        _8b4‍.g.console.log('Service verif error : ' + error);
        return error;
    }
}