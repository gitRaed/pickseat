const nodeFetch = require('node-fetch');
const geocoder = require('./index')({
  provider: 'openstreetmap',
  fetch: function fetchTest(url, options) {
    return nodeFetch(url, {
      ...options,
      headers: {
        'user-agent': 'My application <email@domain.com>',
        'X-Specific-Header': 'Specific value'
      }
    });
  }
});

async function run() {
  try {
    const res = await geocoder.geocode('1573 avenue laurier, montreal');
    console.log(res);
  } catch (err) {
    console.log(err);
  }
}

run();
